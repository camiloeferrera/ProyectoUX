{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\camil\\\\Desktop\\\\Apuntes-master\\\\src\\\\components\\\\Principal.js\",\n    _s = $RefreshSig$();\n\nimport './assets/CSS/indexStyle.css';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Principal() {\n  _s();\n\n  let history = useHistory();\n  var perfil;\n\n  function append(apunte, hoy, tags, likes, dislikes, subir, correo, usuario, div, idNum) {\n    if (apunte && tags) {\n      const contenedor = document.getElementById(div);\n      const publicacion = document.createElement('div');\n      var carta = document.createElement('div');\n      carta.className = \"card\";\n      var cuerpoCarta = document.createElement('div');\n      cuerpoCarta.className = \"card-body\";\n      var textoCarta = document.createElement('p');\n      textoCarta.className = \"card-text\";\n      textoCarta.innerHTML = apunte;\n      cuerpoCarta.appendChild(textoCarta);\n      carta.appendChild(cuerpoCarta);\n      publicacion.className = \"container container_p rounded w-50 shadow my-3 py-3 contenerPublicacion\";\n      var us = document.createElement('label');\n      var fa = document.createElement('label');\n      fa.innerHTML = hoy;\n      fa.className = \"lbl d-block\";\n      us.innerHTML = usuario;\n      us.className = \"lbl\";\n      publicacion.appendChild(us);\n      publicacion.appendChild(fa);\n      publicacion.appendChild(carta);\n      var tagsN = tags.split(\";\");\n\n      for (var i = 0; i < tagsN.length; i++) {\n        const tag = document.createElement('button');\n        tag.className = \"btn p-0 my-3\";\n        var tag_1 = document.createElement('span');\n        tag_1.className = \"tag_1\";\n        tag_1.innerHTML = tagsN[i];\n        tag.appendChild(tag_1);\n\n        tag.onclick = function () {\n          buscarEtiqueta(tag);\n        };\n\n        publicacion.appendChild(tag);\n      }\n\n      var like = document.createElement('button');\n      like.className = \"btn_r\";\n      like.innerHTML = likes;\n\n      like.onclick = function () {\n        btn_Reaccion(like);\n      };\n\n      var dislike = document.createElement('button');\n      dislike.className = \"btn_r\";\n      dislike.innerHTML = dislikes;\n\n      dislike.onclick = function () {\n        btn_Reaccion(dislike);\n      };\n\n      var img_like = document.createElement('i');\n      var img_dislike = document.createElement('i');\n      img_like.className = \"fas fa-thumbs-up\";\n      img_dislike.className = \"fas fa-thumbs-down\";\n\n      if (subir) {\n        if (localStorage.getItem(correo)) {\n          const idBTN = localStorage.getItem(correo).split(\",\");\n          dislike.id = idBTN.length + \"d\";\n          like.id = idBTN.length + \"l\";\n        }\n      } else {\n        dislike.id = idNum + \"d\";\n        like.id = idNum + \"l\";\n      }\n\n      like.appendChild(img_like);\n      dislike.appendChild(img_dislike);\n      var reaccion = document.createElement('div');\n      reaccion.className = \"reacciones\";\n      reaccion.appendChild(like);\n      reaccion.appendChild(dislike);\n      const usuarioAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n\n      if (localStorage.getItem(\"reacciones#\" + usuarioAct[0])) {\n        const listaReaccion = localStorage.getItem(\"reacciones#\" + usuarioAct[0]).split(\",\");\n\n        for (var m = 0; m < listaReaccion.length; m++) {\n          var perfilReaccion = listaReaccion[m].split(\"|\");\n\n          if (perfilReaccion[0] == perfil) {\n            const reaccionesR = perfilReaccion[1].split(\";\");\n\n            for (var n = 0; n < reaccionesR.length; n++) {\n              var reaccionR = \"\";\n\n              if (reaccionesR[n].includes(\"d\")) {\n                reaccionR = reaccionesR[n].split(\"d\")[0];\n              } else {\n                reaccionR = reaccionesR[n].split(\"l\")[0];\n              }\n\n              if (reaccionR == idNum) {\n                if (reaccionesR[n].includes(\"d\")) dislike.style.background = \"rgb(194, 30, 30)\";else like.style.background = \"rgb(18, 20, 128)\";\n              }\n            }\n\n            if (idNum) m = listaReaccion.length;\n          }\n        }\n      }\n\n      publicacion.appendChild(reaccion);\n      contenedor.appendChild(publicacion);\n\n      if (subir) {\n        if (localStorage.getItem(correo)) {\n          const lista = localStorage.getItem(correo).split(\",\");\n          var cadena = lista.length + 1 + \"|\" + apunte + \"|\" + hoy + \"|\" + tags + \"|\" + 0 + \"|\" + 0;\n          localStorage.setItem(correo, localStorage.getItem(correo) + ',' + cadena);\n        } else {\n          var cadena = 1 + \"|\" + apunte + \"|\" + hoy + \"|\" + tags + \"|\" + 0 + \"|\" + 0;\n          localStorage.setItem(correo, cadena);\n        }\n\n        const ap = document.getElementById('apunte');\n        ap.value = \"\";\n        const tg = document.getElementById('tags');\n        tg.value = \"\";\n      }\n    } else {\n      window.alert(\"Llene cada uno de los datos\");\n    }\n  }\n\n  window.onload = function (e) {\n    e.preventDefault();\n    var cell = document.getElementById(\"miPublicacion\");\n\n    if (cell.hasChildNodes()) {\n      while (cell.childNodes.length >= 1) {\n        cell.removeChild(cell.firstChild);\n      }\n    }\n\n    const usAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n    perfil = usAct[0];\n\n    if (localStorage.getItem(usAct[0])) {\n      const apuntes = localStorage.getItem(usAct[0]).split(\",\");\n\n      for (var i = 0; i < apuntes.length; i++) {\n        var elementos = apuntes[i].split(\"|\");\n        append(elementos[1], elementos[2], elementos[3], elementos[4], elementos[5], false, usAct[0], usAct[1], 'miPublicacion', i);\n      }\n    }\n\n    const contenedorMayor = document.getElementById(\"contenedor\");\n    var publicacionE = document.getElementById(\"publicacionEtiqueta\");\n    contenedorMayor.removeChild(publicacionE);\n    var publicacionEtiqueta = document.createElement(\"div\");\n    publicacionEtiqueta.id = \"publicacionEtiqueta\";\n    contenedorMayor.appendChild(publicacionEtiqueta);\n    const publicacion = document.getElementById(\"publicacion\");\n    publicacion.style.display = \"block\";\n    const misPublicaciones = document.getElementById(\"miPublicacion\");\n    misPublicaciones.style.display = \"block\";\n    const otraPublcacion = document.getElementById(\"otraPublicacion\");\n    otraPublcacion.style.display = \"none\";\n    const otroUsuario = document.getElementById(\"otroUsuario\");\n    otroUsuario.style.display = \"none\";\n    const tagses = document.getElementById(\"tagsForm\");\n    if (tagses) tagses.style.display = \"none\";\n  };\n\n  function subir(e) {\n    e.preventDefault();\n    const apunte = document.getElementById('apunte').value;\n    const tags = document.getElementById('tags').value;\n    const tiempoTranscurrido = Date.now();\n    const hoy = new Date(tiempoTranscurrido);\n    const usAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n    append(apunte, hoy.toDateString(), tags, 0, 0, true, usAct[0], usAct[1], 'miPublicacion', 0);\n  }\n\n  function cerrarSesion(e) {\n    e.preventDefault();\n    history.push(\"\");\n  }\n\n  function busqueda(e) {\n    e.preventDefault();\n    var contenedor = document.createElement(\"div\");\n    perfil = \"\";\n    contenedor.className = \"container container_p rounded w-50 shadow my-3 py-3 contenerPublicacion\";\n    const usuario = document.getElementById(\"buscar\").value;\n\n    if (usuario) {\n      const publicacion = document.getElementById(\"publicacion\");\n      publicacion.style.display = \"none\";\n      const misPublicaciones = document.getElementById(\"miPublicacion\");\n      misPublicaciones.style.display = \"none\";\n      const content = document.getElementById(\"contenedor\");\n      const publicaciones = document.getElementById(\"otraPublicacion\");\n      const tages = document.getElementById(\"tagsForm\");\n      const otras = document.getElementById(\"otroUsuario\");\n      const otrosTages = document.getElementById(\"publicacionEtiqueta\");\n      content.removeChild(otrosTages);\n      const otrosTags = document.createElement(\"div\");\n      otrosTags.id = \"publicacionEtiqueta\";\n      content.appendChild(otrosTags);\n      content.removeChild(publicaciones);\n      if (tages) content.removeChild(tages);\n      content.removeChild(otras);\n      const otraPublicacion = document.createElement(\"div\");\n      otraPublicacion.id = \"otraPublicacion\";\n      content.appendChild(otraPublicacion);\n      const taggs = document.createElement(\"div\");\n      taggs.id = \"tagsForm\";\n      content.appendChild(taggs);\n      const otros = document.createElement(\"div\");\n      otros.id = \"otroUsuario\";\n      content.appendChild(otros);\n      const otraP = document.getElementById(\"otraPublicacion\");\n      const list = document.createElement(\"div\");\n      list.className = \"list-group\";\n      const label = document.createElement(\"label\");\n      label.className = \"lbl d-block\";\n      const find = document.createElement(\"label\");\n      find.className = \"lbl d-block\";\n      list.appendChild(label);\n      list.appendChild(find);\n      var encontrados = 0;\n\n      if (localStorage.getItem(\"gmail\")) {\n        const userInfoG = localStorage.getItem(\"gmail\").split(\",\");\n\n        for (var i = 0; i < userInfoG.length; i++) {\n          var datos = userInfoG[i].split(\"|\");\n\n          if (datos[0].includes(usuario) || datos[1].includes(usuario)) {\n            encontrados++;\n            const usuarioEncontrado = document.createElement(\"button\");\n\n            usuarioEncontrado.onclick = function () {\n              btn_buscar(usuarioEncontrado);\n            };\n\n            usuarioEncontrado.className = \"list-group-item list-group-item-action my-1\";\n            const lbl_Nombre = document.createElement(\"label\");\n            const lbl_Correo = document.createElement(\"label\");\n            const br = document.createElement(\"br\");\n            lbl_Nombre.innerHTML = datos[1];\n            lbl_Correo.innerHTML = datos[0];\n            usuarioEncontrado.appendChild(lbl_Nombre);\n            usuarioEncontrado.appendChild(br);\n            usuarioEncontrado.appendChild(lbl_Correo);\n            list.appendChild(usuarioEncontrado);\n          }\n        }\n      }\n\n      if (localStorage.getItem(\"email\")) {\n        const userInfo = localStorage.getItem(\"email\").split(\",\");\n\n        for (var i = 0; i < userInfo.length; i++) {\n          var datos = userInfo[i].split(\"|\");\n\n          if (datos[0].includes(usuario) || datos[1].includes(usuario)) {\n            encontrados++;\n            const usuarioEncontrado = document.createElement(\"button\");\n\n            usuarioEncontrado.onclick = function () {\n              btn_buscar(usuarioEncontrado);\n            };\n\n            usuarioEncontrado.className = \"list-group-item list-group-item-action my-1\";\n            const lbl_Nombre = document.createElement(\"label\");\n            const lbl_Correo = document.createElement(\"label\");\n            const br = document.createElement(\"br\");\n            lbl_Nombre.innerHTML = datos[1];\n            lbl_Correo.innerHTML = datos[0];\n            usuarioEncontrado.appendChild(lbl_Nombre);\n            usuarioEncontrado.appendChild(br);\n            usuarioEncontrado.appendChild(lbl_Correo);\n            list.appendChild(usuarioEncontrado);\n          }\n        }\n\n        label.innerHTML = \"Busqueda para: \" + usuario;\n        find.innerHTML = \"Resultados Encontrados: \" + encontrados;\n        contenedor.appendChild(list);\n        otraP.appendChild(contenedor);\n        const busquedaUs = document.getElementById(\"buscar\");\n        busquedaUs.value = \"\";\n      }\n    }\n  }\n\n  function btn_buscar(e) {\n    const content = document.getElementById(\"contenedor\");\n    const publicaciones = document.getElementById(\"otraPublicacion\");\n    const otras = document.getElementById(\"otroUsuario\");\n    content.removeChild(publicaciones);\n    content.removeChild(otras);\n    const otraPublicacion = document.createElement(\"div\");\n    otraPublicacion.id = \"otraPublicacion\";\n    content.appendChild(otraPublicacion);\n    const otros = document.createElement(\"div\");\n    otros.id = \"otroUsuario\";\n    content.appendChild(otros);\n    var boton = document.createElement(\"button\");\n    boton = e;\n    const correo = boton.lastChild.innerHTML;\n    const usuario = boton.firstChild.innerHTML;\n    const apuntesTodos = localStorage.getItem(correo);\n\n    if (apuntesTodos) {\n      const apunte = apuntesTodos.split(\",\");\n      perfil = correo;\n\n      for (var i = 0; i < apunte.length; i++) {\n        const elementos = apunte[i].split(\"|\");\n        append(elementos[1], elementos[2], elementos[3], elementos[4], elementos[5], false, correo, usuario, \"otroUsuario\", i);\n      }\n    }\n  }\n\n  function btn_Reaccion(e) {\n    const id = e.id;\n    var nPublicacion = 0;\n    var imagen = document.createElement(\"i\");\n\n    if (id.includes(\"d\")) {\n      nPublicacion = id.split(\"d\")[0];\n      imagen.className = \"fas fa-thumbs-down\";\n    } else {\n      nPublicacion = id.split(\"l\")[0];\n      imagen.className = \"fas fa-thumbs-up\";\n    }\n\n    const user = localStorage.getItem(\"usuarioActual\").split(\"|\");\n    const correo = user[0];\n    if (!perfil) perfil = correo;\n    const cadena = perfil + \"|\" + id;\n    var borrarD = false;\n    var borrarL = false;\n    var borrarD1 = false;\n    var borrarL1 = false;\n\n    if (localStorage.getItem(\"reacciones#\" + correo)) {\n      const listaReacciones = localStorage.getItem(\"reacciones#\" + correo).split(\",\");\n      var listaModificada = \"\";\n      var existente = false;\n\n      for (var i = 0; i < listaReacciones.length; i++) {\n        var reaccionesAcum = \"\";\n        const elementosReaccion = listaReacciones[i].split(\"|\");\n        var cambiado = false;\n\n        if (elementosReaccion[0] == perfil) {\n          existente = true;\n          const reaccion_a_usuario = elementosReaccion[1].split(\";\");\n          var encontrado = false;\n\n          for (var j = 0; j < reaccion_a_usuario.length; j++) {\n            if (id == reaccion_a_usuario[j]) {\n              if (id.includes(\"d\")) borrarD = true;else borrarL = true;\n              reaccion_a_usuario[j] = \"\";\n              encontrado = true;\n            } else {\n              var idReaccion = \"\";\n\n              if (reaccion_a_usuario[j].includes(\"d\")) {\n                idReaccion = reaccion_a_usuario[j].split(\"d\");\n              } else {\n                idReaccion = reaccion_a_usuario[j].split(\"l\");\n              }\n\n              if (idReaccion[0] == nPublicacion[0]) {\n                if (reaccion_a_usuario[j].includes(\"d\")) {\n                  reaccion_a_usuario[j] = idReaccion[0] + \"l\";\n                  borrarD1 = true;\n                } else {\n                  reaccion_a_usuario[j] = idReaccion[0] + \"d\";\n                  borrarL1 = true;\n                }\n\n                cambiado = true;\n              }\n            }\n\n            reaccionesAcum += reaccion_a_usuario[j];\n          }\n\n          var reaccionesAcum2 = \"\";\n\n          for (var j = 0; j < reaccionesAcum.length; j++) {\n            reaccionesAcum2 += reaccionesAcum[j];\n\n            if (reaccionesAcum[j] == \"d\" || reaccionesAcum[j] == \"l\") {\n              if (j < reaccionesAcum.length - 1) reaccionesAcum2 += \";\";\n            }\n          }\n\n          if (!encontrado && !cambiado) {\n            reaccionesAcum2 += \";\" + id;\n          }\n\n          var nuevaReaccion = perfil + \"|\" + reaccionesAcum2;\n          if (reaccionesAcum2.length < 1) nuevaReaccion = \"\";\n          listaModificada += nuevaReaccion;\n          listaReacciones[i] = listaModificada;\n        }\n      }\n\n      if (!existente) {\n        localStorage.setItem(\"reacciones#\" + correo, localStorage.getItem(\"reacciones#\" + correo) + \",\" + cadena);\n      } else if (localStorage.getItem(\"reacciones#\" + correo)) {\n        const tamano = localStorage.getItem(\"reacciones#\" + correo).split(\",\");\n\n        if (tamano.length < 1) {\n          localStorage.removeItem(\"reacciones#\" + correo);\n        } else localStorage.setItem(\"reacciones#\" + correo, listaReacciones);\n      }\n    } else {\n      localStorage.setItem(\"reacciones#\" + correo, cadena);\n    }\n\n    const arreglar = localStorage.getItem(\"reacciones#\" + correo).split(\",\");\n    var arreglado = \"\";\n\n    for (var m = 0; m < arreglar.length; m++) {\n      if (arreglar[m]) {\n        arreglado += arreglar[m];\n        if (m < arreglar.length - 1) arreglado += \",\";\n      }\n    }\n\n    const publicacionesPerfil = localStorage.getItem(perfil).split(\",\");\n    var acumPublic = \"\";\n    var like = 0;\n    var disLike = 0;\n\n    for (var i = 0; i < publicacionesPerfil.length; i++) {\n      if (i == nPublicacion) {\n        const publicacionPerfil = publicacionesPerfil[nPublicacion];\n        const elementosPublicacionPerfil = publicacionPerfil.split(\"|\");\n        disLike = elementosPublicacionPerfil[5];\n        like = elementosPublicacionPerfil[4];\n        if (id.includes(\"d\")) disLike++;else like++;\n        if (borrarL) like -= 2;\n        if (borrarD) disLike -= 2;\n        if (borrarL1) like--;\n        if (borrarD1) disLike--;\n        publicacionesPerfil[i] = elementosPublicacionPerfil[0] + \"|\" + elementosPublicacionPerfil[1] + \"|\" + elementosPublicacionPerfil[2] + \"|\" + elementosPublicacionPerfil[3] + \"|\" + like + \"|\" + disLike;\n      }\n\n      acumPublic += publicacionesPerfil[i];\n\n      if (i < publicacionesPerfil.length - 1) {\n        acumPublic += \",\";\n      }\n    }\n\n    var boton = document.createElement(\"button\");\n    var otroBoton = \"\";\n    var imagenOtra = document.createElement(\"i\");\n    boton = e;\n\n    if (boton.id.includes(\"l\")) {\n      boton.innerText = like;\n      otroBoton = boton.parentNode.lastChild;\n      imagenOtra.className = \"fas fa-thumbs-down\";\n      boton.style.background = \"rgb(18, 20, 128)\";\n    } else {\n      boton.innerText = disLike;\n      boton.style.background = \"rgb(194, 30, 30)\";\n      otroBoton = boton.parentNode.firstChild;\n      imagenOtra.className = \"fas fa-thumbs-up\";\n    }\n\n    otroBoton.style.background = \"rgb(77, 111, 150)\";\n    if (otroBoton.id.includes(\"d\")) otroBoton.innerText = disLike;else otroBoton.innerText = like;\n    if (borrarD || borrarL) boton.style.background = \"rgb(77, 111, 150)\";\n    localStorage.setItem(perfil, acumPublic);\n    localStorage.setItem(\"reacciones#\" + correo, arreglado);\n    boton.appendChild(imagen);\n    otroBoton.appendChild(imagenOtra);\n  }\n\n  function etiquetas(e) {\n    if (e.value != \"\") {\n      var contenedorMayor = document.getElementById(\"contenedor\");\n      const useAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n      perfil = useAct[0];\n      var titulo = document.createElement(\"h2\");\n      titulo.innerText = \"Mis Etiquetas\";\n      titulo.className = \"title text-center\";\n      var contenedor = document.createElement(\"div\");\n      contenedor.appendChild(titulo);\n      var tagses = document.getElementById(\"tagsForm\");\n      if (tagses) contenedorMayor.removeChild(tagses);\n      var otra = document.getElementById(\"otraPublicacion\");\n      contenedorMayor.removeChild(otra);\n      var otraP = document.createElement(\"div\");\n      otraP.id = \"otraPublicacion\";\n      contenedorMayor.appendChild(otraP);\n      var otra = document.getElementById(\"otroUsuario\");\n      contenedorMayor.removeChild(otra);\n      var otraP = document.createElement(\"div\");\n      otraP.id = \"otroUsuario\";\n      contenedorMayor.appendChild(otraP);\n      var publicacionE = document.getElementById(\"publicacionEtiqueta\");\n      contenedorMayor.removeChild(publicacionE);\n      var publicacionEtiqueta = document.createElement(\"div\");\n      publicacionEtiqueta.id = \"publicacionEtiqueta\";\n      contenedorMayor.appendChild(publicacionEtiqueta);\n      var todoTag = document.createElement(\"div\");\n      todoTag.id = \"tagsForm\";\n      contenedor.className = \"container container_p rounded w-50 shadow my-3 py-3 contenerPublicacion\";\n      const publicacion = document.getElementById(\"publicacion\");\n      publicacion.style.display = \"none\";\n      const misPublicaciones = document.getElementById(\"miPublicacion\");\n      misPublicaciones.style.display = \"none\";\n      var tagsContainer = document.createElement(\"div\");\n      tagsContainer.className = \"container\";\n\n      if (localStorage.getItem(perfil)) {\n        const estudianteActual = localStorage.getItem(perfil).split(\",\");\n        var lista = [];\n\n        for (var j = 0; j < estudianteActual.length; j++) {\n          var publicacionEstudiante = estudianteActual[j].split(\"|\");\n          var tags = publicacionEstudiante[3].split(\";\");\n          var pasa = true;\n\n          for (var i = 0; i < tags.length; i++) {\n            pasa = true;\n\n            for (var k = 0; k < lista.length; k++) {\n              if (tags[i] === lista[k]) pasa = false;\n            }\n\n            if (pasa) {\n              lista.unshift(tags[i]);\n              var tag_1 = document.createElement('span');\n              const tag_btn = document.createElement('button');\n\n              tag_btn.onclick = function () {\n                buscarEtiqueta(tag_btn);\n              };\n\n              tag_btn.className = \"btn p-0 my-3\";\n              tag_1.className = \"tag_1\";\n              tag_1.innerHTML = tags[i];\n              tag_btn.appendChild(tag_1);\n              tagsContainer.appendChild(tag_btn);\n            }\n\n            contenedor.appendChild(tagsContainer);\n          }\n        }\n\n        todoTag.appendChild(contenedor);\n        contenedorMayor.appendChild(todoTag);\n      }\n    } else {}\n  }\n\n  function buscarEtiqueta(e) {\n    const contenedorMayor = document.getElementById(\"contenedor\");\n    var tagses = document.getElementById(\"tagsForm\");\n    if (tagses) contenedorMayor.removeChild(tagses);\n    const tagForm = document.createElement(\"div\");\n    tagForm.id = \"tagsForm\";\n    contenedorMayor.appendChild(tagForm);\n    const publicacion = document.getElementById(\"publicacion\");\n    publicacion.style.display = \"none\";\n    const misPublicaciones = document.getElementById(\"miPublicacion\");\n    misPublicaciones.style.display = \"none\";\n    var publicacionE = document.getElementById(\"publicacionEtiqueta\");\n    contenedorMayor.removeChild(publicacionE);\n    var publicacionEtiqueta = document.createElement(\"div\");\n    publicacionEtiqueta.id = \"publicacionEtiqueta\";\n    contenedorMayor.appendChild(publicacionEtiqueta);\n    var otra = document.getElementById(\"otroUsuario\");\n    contenedorMayor.removeChild(otra);\n    var otraP = document.createElement(\"div\");\n    otraP.id = \"otroUsuario\";\n    contenedorMayor.appendChild(otraP);\n    var boton = document.createElement(\"button\");\n    boton = e;\n\n    if (localStorage.getItem(\"gmail\")) {\n      const gmails = localStorage.getItem(\"gmail\").split(\",\");\n      var usuario = \"\";\n\n      for (var i = 0; i < gmails.length; i++) {\n        const user = gmails[i].split(\"|\");\n        if (perfil == user[0]) usuario = user[1];\n      }\n    }\n\n    if (localStorage.getItem(\"email\")) {\n      const emails = localStorage.getItem(\"email\").split(\",\");\n\n      for (var i = 0; i < emails.length; i++) {\n        const user = emails[i].split(\"|\");\n        if (perfil == user[0]) usuario = user[1];\n      }\n    }\n\n    if (localStorage.getItem(perfil)) {\n      const estudiantePublicaciones = localStorage.getItem(perfil).split(\",\");\n\n      for (var i = 0; i < estudiantePublicaciones.length; i++) {\n        const elementos = estudiantePublicaciones[i].split(\"|\");\n        if (elementos[3].includes(boton.firstChild.innerHTML)) append(elementos[1], elementos[2], elementos[3], elementos[4], elementos[5], false, perfil, usuario, \"publicacionEtiqueta\", i);\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"contenedor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"barra\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-light bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-1\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book img-fluid principal_f\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn navbar-brand\",\n            onClick: window.onload,\n            children: \"UniApuntes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"navbar-toggler\",\n            type: \"button\",\n            \"data-bs-toggle\": \"collapse\",\n            \"data-bs-target\": \"#navbarTogglerDemo01\",\n            \"aria-controls\": \"navbarTogglerDemo01\",\n            \"aria-expanded\": \"false\",\n            \"aria-label\": \"Toggle navigation\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"navbar-toggler-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapse navbar-collapse\",\n            id: \"navbarTogglerDemo01\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"navbar-nav me-auto mb-2 mb-lg-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn nav-link active\",\n                  \"aria-current\": \"page\",\n                  onClick: window.onload,\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn nav-link\",\n                  onClick: window.onload,\n                  children: \"Mis Apuntes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn nav-link\",\n                  onClick: etiquetas,\n                  children: \"Etiquetas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn nav-link\",\n                  href: \"#\",\n                  tabIndex: \"-1\",\n                  onClick: cerrarSesion,\n                  children: \"Cerrar Sesi\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"d-flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control me-2\",\n                type: \"search\",\n                placeholder: \"Buscar...\",\n                \"aria-label\": \"Search\",\n                id: \"buscar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-success\",\n                type: \"submit\",\n                onClick: busqueda,\n                children: \"Buscar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container container_p rounded w-50 shadow my-3 py-3 \",\n      id: \"publicacion\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        rows: \"1\",\n        placeholder: \"Apunte: react fue creado por desarrolladores de facebook...\",\n        id: \"apunte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Etiquetas: javascript;react;front end\",\n        className: \"form-control my-2\",\n        id: \"tags\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary bg-blue\",\n        onClick: subir,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 77\n        }, this), \"Subir\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"miPublicacion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"otraPublicacion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"otroUsuario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"tagsForm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"publicacionEtiqueta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 596,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Principal, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Principal;\nexport default Principal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Principal\");","map":{"version":3,"sources":["C:/Users/camil/Desktop/Apuntes-master/src/components/Principal.js"],"names":["useHistory","Principal","history","perfil","append","apunte","hoy","tags","likes","dislikes","subir","correo","usuario","div","idNum","contenedor","document","getElementById","publicacion","createElement","carta","className","cuerpoCarta","textoCarta","innerHTML","appendChild","us","fa","tagsN","split","i","length","tag","tag_1","onclick","buscarEtiqueta","like","btn_Reaccion","dislike","img_like","img_dislike","localStorage","getItem","idBTN","id","reaccion","usuarioAct","listaReaccion","m","perfilReaccion","reaccionesR","n","reaccionR","includes","style","background","lista","cadena","setItem","ap","value","tg","window","alert","onload","e","preventDefault","cell","hasChildNodes","childNodes","removeChild","firstChild","usAct","apuntes","elementos","contenedorMayor","publicacionE","publicacionEtiqueta","display","misPublicaciones","otraPublcacion","otroUsuario","tagses","tiempoTranscurrido","Date","now","toDateString","cerrarSesion","push","busqueda","content","publicaciones","tages","otras","otrosTages","otrosTags","otraPublicacion","taggs","otros","otraP","list","label","find","encontrados","userInfoG","datos","usuarioEncontrado","btn_buscar","lbl_Nombre","lbl_Correo","br","userInfo","busquedaUs","boton","lastChild","apuntesTodos","nPublicacion","imagen","user","borrarD","borrarL","borrarD1","borrarL1","listaReacciones","listaModificada","existente","reaccionesAcum","elementosReaccion","cambiado","reaccion_a_usuario","encontrado","j","idReaccion","reaccionesAcum2","nuevaReaccion","tamano","removeItem","arreglar","arreglado","publicacionesPerfil","acumPublic","disLike","publicacionPerfil","elementosPublicacionPerfil","otroBoton","imagenOtra","innerText","parentNode","etiquetas","useAct","titulo","otra","todoTag","tagsContainer","estudianteActual","publicacionEstudiante","pasa","k","unshift","tag_btn","tagForm","gmails","emails","estudiantePublicaciones"],"mappings":"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","sourcesContent":["import './assets/CSS/indexStyle.css'\nimport { useHistory } from 'react-router-dom'\nfunction Principal(){\n    let history = useHistory();\n    var perfil;\n\n    function append(apunte, hoy, tags, likes, dislikes, subir, correo, usuario, div, idNum  ){\n        if(apunte && tags){\n            const contenedor = document.getElementById(div);\n            const publicacion = document.createElement('div');\n            var carta = document.createElement('div');\n            carta.className = \"card\";\n            var cuerpoCarta = document.createElement('div');\n            cuerpoCarta.className = \"card-body\";\n            var textoCarta = document.createElement('p');\n            textoCarta.className = \"card-text\";\n            textoCarta.innerHTML = apunte;\n            cuerpoCarta.appendChild(textoCarta);\n            carta.appendChild(cuerpoCarta);\n            publicacion.className = \"container container_p rounded w-50 shadow my-3 py-3 contenerPublicacion\";\n            var us = document.createElement('label');\n            var fa = document.createElement('label');\n            fa.innerHTML = hoy;\n            fa.className = \"lbl d-block\";\n            us.innerHTML = usuario;\n            us.className = \"lbl\";\n            publicacion.appendChild(us);\n            publicacion.appendChild(fa);\n            publicacion.appendChild(carta);\n            var tagsN = tags.split(\";\");\n            for (var i = 0; i < tagsN.length; i++) {\n                const tag = document.createElement('button');\n                tag.className = \"btn p-0 my-3\";\n                var tag_1 = document.createElement('span');\n                tag_1.className = \"tag_1\";\n                tag_1.innerHTML = tagsN[i];\n                tag.appendChild(tag_1);\n                tag.onclick = function(){buscarEtiqueta(tag);};\n                publicacion.appendChild(tag);\n            }\n            var like = document.createElement('button');\n            like.className = \"btn_r\";\n            like.innerHTML = likes;\n            like.onclick = function() {btn_Reaccion(like);};\n            var dislike = document.createElement('button');\n            dislike.className = \"btn_r\";\n            dislike.innerHTML = dislikes;\n            dislike.onclick = function() {btn_Reaccion(dislike);};\n            var img_like = document.createElement('i');\n            var img_dislike = document.createElement('i');\n            img_like.className = \"fas fa-thumbs-up\";\n            img_dislike.className = \"fas fa-thumbs-down\"; \n            if(subir){\n                if(localStorage.getItem(correo)){      \n                    const idBTN = localStorage.getItem(correo).split(\",\");\n                    dislike.id = idBTN.length + \"d\";\n                    like.id = idBTN.length + \"l\";\n                }\n            }else{\n                dislike.id = idNum + \"d\";\n                like.id = idNum + \"l\";\n            }\n            like.appendChild(img_like)\n            dislike.appendChild(img_dislike);\n            var reaccion = document.createElement('div');\n            reaccion.className = \"reacciones\";\n            reaccion.appendChild(like);\n            reaccion.appendChild(dislike);\n\n            const usuarioAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n            if(localStorage.getItem(\"reacciones#\"+ usuarioAct[0])){\n                const listaReaccion = localStorage.getItem(\"reacciones#\"+ usuarioAct[0]).split(\",\");\n                for( var m = 0; m < listaReaccion.length; m++ ){\n                    var perfilReaccion = listaReaccion[m].split(\"|\");\n                    if(perfilReaccion[0] == perfil){\n                        const reaccionesR = perfilReaccion[1].split(\";\");\n                        for( var n = 0; n < reaccionesR.length; n++ ){\n                            var reaccionR = \"\";\n                            if(reaccionesR[n].includes(\"d\")){\n                                reaccionR = reaccionesR[n].split(\"d\")[0];\n                            }\n                            else{\n                                reaccionR = reaccionesR[n].split(\"l\")[0];\n                            }\n                            if(reaccionR == idNum){\n                                if(reaccionesR[n].includes(\"d\"))\n                                    dislike.style.background = \"rgb(194, 30, 30)\";\n                                else\n                                    like.style.background = \"rgb(18, 20, 128)\";\n                            }\n                        }\n                        if(idNum)\n                        m = listaReaccion.length;\n                    }\n                }\n            }\n\n            publicacion.appendChild(reaccion);\n            contenedor.appendChild(publicacion);\n            if(subir){\n                if(localStorage.getItem(correo)){      \n                    const lista = localStorage.getItem(correo).split(\",\");\n                    var cadena = (lista.length+1) + \"|\" + apunte + \"|\" + hoy + \"|\" + tags + \"|\" + 0 + \"|\" + 0;     \n                    localStorage.setItem(correo, localStorage.getItem(correo) + ',' + cadena);\n                }else{\n                    var cadena = 1 + \"|\" + apunte + \"|\" + hoy + \"|\" + tags + \"|\" + 0 + \"|\" + 0;     \n                    localStorage.setItem(correo,cadena);\n                }    \n                const ap = document.getElementById('apunte');\n                ap.value = \"\";\n                const tg = document.getElementById('tags');\n                tg.value = \"\";\n            }\n        }else{\n            window.alert(\"Llene cada uno de los datos\");\n        }\n    }\n\n    window.onload = function(e){\n        e.preventDefault();\n        var cell = document.getElementById(\"miPublicacion\");\n        if ( cell.hasChildNodes() ){\n            while ( cell.childNodes.length >= 1 ){\n                cell.removeChild( cell.firstChild );\n            }\n        }\n        const usAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n        perfil = usAct[0];\n        if(localStorage.getItem(usAct[0])){\n            const apuntes = localStorage.getItem(usAct[0]).split(\",\");\n            for(var i = 0; i < apuntes.length; i++ ){\n                var elementos = apuntes[i].split(\"|\");  \n                append(elementos[1],elementos[2],elementos[3],elementos[4],elementos[5], false, usAct[0], usAct[1],'miPublicacion', i);\n            }\n        }\n        const contenedorMayor = document.getElementById(\"contenedor\");\n        var publicacionE = document.getElementById(\"publicacionEtiqueta\");\n        contenedorMayor.removeChild(publicacionE);\n        var publicacionEtiqueta = document.createElement(\"div\");\n        publicacionEtiqueta.id=\"publicacionEtiqueta\";\n        contenedorMayor.appendChild(publicacionEtiqueta);\n        const publicacion = document.getElementById(\"publicacion\");\n        publicacion.style.display = \"block\";\n        const misPublicaciones = document.getElementById(\"miPublicacion\");\n        misPublicaciones.style.display = \"block\";\n        const otraPublcacion = document.getElementById(\"otraPublicacion\");\n        otraPublcacion.style.display = \"none\";\n        const otroUsuario = document.getElementById(\"otroUsuario\");\n        otroUsuario.style.display = \"none\";\n        const tagses = document.getElementById(\"tagsForm\");\n        if(tagses)\n            tagses.style.display = \"none\";\n    }\n\n    function subir(e){\n        e.preventDefault();\n        const apunte = document.getElementById('apunte').value;\n        const tags = document.getElementById('tags').value;\n        const tiempoTranscurrido = Date.now();\n        const hoy = new Date(tiempoTranscurrido);\n        const usAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n        append(apunte, hoy.toDateString(), tags, 0, 0, true, usAct[0], usAct[1],'miPublicacion', 0);\n    }\n    \n    function cerrarSesion(e){\n        e.preventDefault();\n        history.push(\"\");\n    }\n\n    function busqueda(e){\n        e.preventDefault();\n        var contenedor = document.createElement(\"div\");\n        perfil = \"\";\n        contenedor.className =\"container container_p rounded w-50 shadow my-3 py-3 contenerPublicacion\";\n        const usuario = document.getElementById(\"buscar\").value;\n        if(usuario){\n            const publicacion = document.getElementById(\"publicacion\");\n            publicacion.style.display = \"none\";\n            const misPublicaciones = document.getElementById(\"miPublicacion\");\n            misPublicaciones.style.display = \"none\";\n\n            const content = document.getElementById(\"contenedor\");\n            const publicaciones = document.getElementById(\"otraPublicacion\");\n            const tages = document.getElementById(\"tagsForm\");\n            const otras = document.getElementById(\"otroUsuario\");\n\n\n            const otrosTages = document.getElementById(\"publicacionEtiqueta\");\n            content.removeChild(otrosTages);\n            const otrosTags = document.createElement(\"div\");\n            otrosTags.id =\"publicacionEtiqueta\";    \n            content.appendChild(otrosTags);\n            content.removeChild(publicaciones);\n            if(tages)\n                content.removeChild(tages);\n            content.removeChild(otras);\n\n            const otraPublicacion = document.createElement(\"div\");\n            otraPublicacion.id =\"otraPublicacion\";\n            content.appendChild(otraPublicacion);\n\n            const taggs = document.createElement(\"div\");\n            taggs.id =\"tagsForm\";\n            content.appendChild(taggs);\n\n            const otros = document.createElement(\"div\");\n            otros.id =\"otroUsuario\";\n            content.appendChild(otros);\n\n\n            const otraP = document.getElementById(\"otraPublicacion\");\n            const list = document.createElement(\"div\");\n            list.className = \"list-group\";\n            const label = document.createElement(\"label\");\n            label.className = \"lbl d-block\";\n\n            const find = document.createElement(\"label\");\n            find.className = \"lbl d-block\";\n\n            list.appendChild(label);\n            list.appendChild(find);\n            var encontrados = 0;\n            if(localStorage.getItem(\"gmail\")){\n                const userInfoG = localStorage.getItem(\"gmail\").split(\",\");\n                for( var i = 0; i < userInfoG.length; i++ ){\n                    var datos = userInfoG[i].split(\"|\");\n                    if( datos[0].includes(usuario) || datos[1].includes(usuario) ){\n                        encontrados++;\n                        const usuarioEncontrado = document.createElement(\"button\");\n                        usuarioEncontrado.onclick = function() {btn_buscar(usuarioEncontrado);};\n                        usuarioEncontrado.className = \"list-group-item list-group-item-action my-1\";\n                        const lbl_Nombre = document.createElement(\"label\");\n                        const lbl_Correo = document.createElement(\"label\");\n                        const br = document.createElement(\"br\");\n                        lbl_Nombre.innerHTML = datos[1];\n                        lbl_Correo.innerHTML = datos[0];\n                        usuarioEncontrado.appendChild(lbl_Nombre);\n                        usuarioEncontrado.appendChild(br);\n                        usuarioEncontrado.appendChild(lbl_Correo);\n                        list.appendChild(usuarioEncontrado);\n                    }\n                }\n            }\n            if(localStorage.getItem(\"email\")){\n                const userInfo = localStorage.getItem(\"email\").split(\",\");\n                for( var i = 0; i < userInfo.length; i++ ){\n                    var datos = userInfo[i].split(\"|\");\n                    if( datos[0].includes(usuario) || datos[1].includes(usuario) ){\n                        encontrados++;\n                        const usuarioEncontrado = document.createElement(\"button\");\n                        usuarioEncontrado.onclick = function() {btn_buscar(usuarioEncontrado);};\n                        usuarioEncontrado.className = \"list-group-item list-group-item-action my-1\";\n                        const lbl_Nombre = document.createElement(\"label\");\n                        const lbl_Correo = document.createElement(\"label\");\n                        const br = document.createElement(\"br\");\n                        lbl_Nombre.innerHTML = datos[1];\n                        lbl_Correo.innerHTML = datos[0];\n                        usuarioEncontrado.appendChild(lbl_Nombre);\n                        usuarioEncontrado.appendChild(br);\n                        usuarioEncontrado.appendChild(lbl_Correo);\n                        list.appendChild(usuarioEncontrado);\n                    }\n                }\n                label.innerHTML = \"Busqueda para: \" + usuario;\n                find.innerHTML = \"Resultados Encontrados: \" + encontrados;\n                contenedor.appendChild(list);\n                otraP.appendChild(contenedor);\n                const busquedaUs = document.getElementById(\"buscar\")\n                busquedaUs.value = \"\";\n            }\n        }\n    }\n\n    function btn_buscar(e){\n        const content = document.getElementById(\"contenedor\");\n        const publicaciones = document.getElementById(\"otraPublicacion\");\n        const otras = document.getElementById(\"otroUsuario\");\n\n        content.removeChild(publicaciones);\n        content.removeChild(otras);\n\n        const otraPublicacion = document.createElement(\"div\");\n        otraPublicacion.id =\"otraPublicacion\";\n        content.appendChild(otraPublicacion);\n\n        \n\n        const otros = document.createElement(\"div\");\n        otros.id =\"otroUsuario\";\n        content.appendChild(otros);\n        var boton = document.createElement(\"button\");\n        boton = e;\n        const correo = boton.lastChild.innerHTML;\n        const usuario = boton.firstChild.innerHTML;\n        const apuntesTodos = localStorage.getItem(correo);\n        if(apuntesTodos){\n            const apunte = apuntesTodos.split(\",\");\n            perfil = correo;\n            for(var i = 0; i < apunte.length; i++ ){\n                const elementos = apunte[i].split(\"|\");\n                append(elementos[1],elementos[2],elementos[3],elementos[4],elementos[5], false, correo, usuario, \"otroUsuario\", i);\n            }\n        }   \n    }\n\n    function btn_Reaccion(e){\n        const id = e.id;\n        var nPublicacion = 0;\n        var imagen = document.createElement(\"i\");\n        if( id.includes(\"d\") ){\n            nPublicacion = id.split(\"d\")[0];\n            imagen.className = \"fas fa-thumbs-down\";\n        }else{\n            nPublicacion = id.split(\"l\")[0];\n            imagen.className = \"fas fa-thumbs-up\";\n        }\n        const user = localStorage.getItem(\"usuarioActual\").split(\"|\");\n        const correo = user[0];\n        if(!perfil)\n            perfil = correo;\n        const cadena = perfil + \"|\" + id;\n        var borrarD = false;\n        var borrarL = false;\n        var borrarD1 = false;\n        var borrarL1 = false;\n        if( localStorage.getItem(\"reacciones#\"+correo) ){\n            const listaReacciones = localStorage.getItem(\"reacciones#\"+correo).split(\",\");\n            var listaModificada = \"\";\n            var existente = false;\n            for( var i = 0; i < listaReacciones.length; i++){\n                var reaccionesAcum = \"\"; \n                const elementosReaccion = listaReacciones[i].split(\"|\");\n                var cambiado = false;\n                if( elementosReaccion[0] == perfil ){\n                    existente = true;\n                    const reaccion_a_usuario = elementosReaccion[1].split(\";\");\n                    var encontrado = false;\n                    for( var j = 0; j < reaccion_a_usuario.length; j++){\n                        if( id == reaccion_a_usuario[j]){\n                            if(id.includes(\"d\"))\n                                borrarD = true;\n                            else\n                                borrarL = true;\n                            reaccion_a_usuario[j] = \"\";\n                            encontrado = true;\n                        }else{\n                            var idReaccion = \"\";\n                            if(reaccion_a_usuario[j].includes(\"d\")){\n                                idReaccion = reaccion_a_usuario[j].split(\"d\");\n                            }else{\n                                idReaccion = reaccion_a_usuario[j].split(\"l\");\n                            }\n                            if( idReaccion[0] == nPublicacion[0]){\n                                if(reaccion_a_usuario[j].includes(\"d\")){\n                                    reaccion_a_usuario[j] = idReaccion[0]+\"l\";\n                                    borrarD1 = true;\n                                }else{\n                                    reaccion_a_usuario[j] = idReaccion[0]+\"d\";\n                                    borrarL1 = true;\n                                }\n                                cambiado = true;\n                            }\n                        }\n                        reaccionesAcum += reaccion_a_usuario[j];\n                    }\n                    var reaccionesAcum2 = \"\";\n                    for( var j = 0; j < reaccionesAcum.length; j++){\n                        reaccionesAcum2 += reaccionesAcum[j];\n                        if(reaccionesAcum[j] == \"d\" || reaccionesAcum[j] == \"l\"){\n                            if(j < reaccionesAcum.length -1)\n                                reaccionesAcum2 += \";\"\n                        }\n                    }\n                    if(!encontrado && !cambiado){\n                        reaccionesAcum2 += \";\" + id;\n                    }\n                    var nuevaReaccion = perfil + \"|\" + reaccionesAcum2;\n                    if( reaccionesAcum2.length < 1)\n                        nuevaReaccion = \"\";\n                    listaModificada += nuevaReaccion;\n                    listaReacciones[i] = listaModificada;\n                }\n            }\n            if(!existente){\n                localStorage.setItem(\"reacciones#\"+correo,localStorage.getItem(\"reacciones#\"+correo)+\",\"+cadena);\n            }else if(localStorage.getItem(\"reacciones#\"+correo)){\n                const tamano = localStorage.getItem(\"reacciones#\"+correo).split(\",\");\n                if(tamano.length < 1){\n                    localStorage.removeItem(\"reacciones#\"+correo);\n                }\n                else\n                    localStorage.setItem(\"reacciones#\"+correo,listaReacciones);\n            }\n        }else{\n            localStorage.setItem(\"reacciones#\"+correo,cadena);\n        }\n        const arreglar = localStorage.getItem(\"reacciones#\"+correo).split(\",\");\n        var arreglado = \"\";\n        for(var m = 0; m < arreglar.length; m++){\n            if(arreglar[m]){\n                arreglado += arreglar[m];\n                if( m < arreglar.length - 1 )\n                    arreglado += \",\";\n            }\n        }\n        const publicacionesPerfil = localStorage.getItem(perfil).split(\",\");\n        var acumPublic = \"\";\n        var like = 0;\n        var disLike = 0;\n        for( var i = 0; i < publicacionesPerfil.length; i++ ){\n            if( i == nPublicacion){\n                const publicacionPerfil = publicacionesPerfil[nPublicacion];\n                const elementosPublicacionPerfil = publicacionPerfil.split(\"|\");\n                disLike = elementosPublicacionPerfil[5];\n                like = elementosPublicacionPerfil[4];\n                if(id.includes(\"d\"))\n                    disLike++;\n                else\n                    like++;\n                if(borrarL)\n                    like-=2;\n                if(borrarD)\n                    disLike-=2;\n                if(borrarL1)\n                    like--;\n                if(borrarD1)\n                    disLike--;\n                publicacionesPerfil[i] = elementosPublicacionPerfil[0] + \"|\" + elementosPublicacionPerfil[1] + \"|\"+elementosPublicacionPerfil[2]+\"|\"+elementosPublicacionPerfil[3]+\"|\"+like+\"|\"+disLike;\n            }\n            acumPublic += publicacionesPerfil[i];\n            if(i < publicacionesPerfil.length - 1){\n                acumPublic += \",\";\n            }\n        }\n        var boton = document.createElement(\"button\");\n        var otroBoton = \"\";\n        var imagenOtra = document.createElement(\"i\");\n        boton = e;\n        if(boton.id.includes(\"l\")){\n            boton.innerText = like;\n            otroBoton = boton.parentNode.lastChild;\n            imagenOtra.className = \"fas fa-thumbs-down\";\n            boton.style.background = \"rgb(18, 20, 128)\";\n        }else{\n            boton.innerText = disLike;\n            boton.style.background = \"rgb(194, 30, 30)\";\n            otroBoton = boton.parentNode.firstChild;\n            imagenOtra.className = \"fas fa-thumbs-up\";\n        }\n        otroBoton.style.background = \"rgb(77, 111, 150)\";\n        if(otroBoton.id.includes(\"d\"))\n            otroBoton.innerText = disLike;\n        else\n            otroBoton.innerText = like;\n        if(borrarD || borrarL)\n            boton.style.background = \"rgb(77, 111, 150)\";\n        localStorage.setItem(perfil,acumPublic);\n        localStorage.setItem(\"reacciones#\"+correo,arreglado);\n        boton.appendChild(imagen);\n        otroBoton.appendChild(imagenOtra);\n    }\n\n    function etiquetas(e){\n        if(e.value != \"\"){\n            var contenedorMayor = document.getElementById(\"contenedor\");\n            const useAct = localStorage.getItem(\"usuarioActual\").split(\"|\");\n            perfil = useAct[0];\n            var titulo = document.createElement(\"h2\");\n            titulo.innerText = \"Mis Etiquetas\";\n            titulo.className = \"title text-center\";\n            var contenedor = document.createElement(\"div\");\n            contenedor.appendChild(titulo);\n            var tagses = document.getElementById(\"tagsForm\");\n            if(tagses)\n                contenedorMayor.removeChild(tagses);\n\n            var otra = document.getElementById(\"otraPublicacion\");\n            contenedorMayor.removeChild(otra);\n            var otraP = document.createElement(\"div\");\n            otraP.id=\"otraPublicacion\";\n            contenedorMayor.appendChild(otraP);\n\n            var otra = document.getElementById(\"otroUsuario\");\n            contenedorMayor.removeChild(otra);\n            var otraP = document.createElement(\"div\");\n            otraP.id=\"otroUsuario\";\n            contenedorMayor.appendChild(otraP);\n            var publicacionE = document.getElementById(\"publicacionEtiqueta\");\n            contenedorMayor.removeChild(publicacionE);\n            var publicacionEtiqueta = document.createElement(\"div\");\n            publicacionEtiqueta.id=\"publicacionEtiqueta\";\n            contenedorMayor.appendChild(publicacionEtiqueta);\n\n            var todoTag = document.createElement(\"div\");\n            todoTag.id = \"tagsForm\";\n            contenedor.className = \"container container_p rounded w-50 shadow my-3 py-3 contenerPublicacion\";\n            const publicacion = document.getElementById(\"publicacion\");\n            publicacion.style.display = \"none\";\n            const misPublicaciones = document.getElementById(\"miPublicacion\");\n            misPublicaciones.style.display = \"none\";\n\n            var tagsContainer = document.createElement(\"div\");\n            tagsContainer.className = \"container\";\n\n            if(localStorage.getItem(perfil)){\n                const estudianteActual = localStorage.getItem(perfil).split(\",\");\n                var lista=[];\n                for(var j = 0; j < estudianteActual.length; j++){\n                    var publicacionEstudiante = estudianteActual[j].split(\"|\");\n                    var tags = publicacionEstudiante[3].split(\";\");\n                    var pasa = true;\n                    for (var i = 0; i < tags.length; i++) {\n                        pasa = true;\n                        for(var k = 0; k < lista.length; k++ ){\n                            if(tags[i] === lista[k])\n                                pasa = false;\n                        }\n                        if(pasa){\n                            lista.unshift(tags[i]);\n                            var tag_1 = document.createElement('span');\n                            const tag_btn = document.createElement('button');\n                            \n                            tag_btn.onclick = function(){buscarEtiqueta(tag_btn);};\n                            \n                            tag_btn.className = \"btn p-0 my-3\";\n                            tag_1.className = \"tag_1\";\n                            tag_1.innerHTML = tags[i];\n                            tag_btn.appendChild(tag_1);\n                            tagsContainer.appendChild(tag_btn);\n                        }\n                        contenedor.appendChild(tagsContainer);\n                    }\n                }\n                todoTag.appendChild(contenedor);\n                contenedorMayor.appendChild(todoTag);\n            }\n        }else{\n            \n        }\n    }\n\n    function buscarEtiqueta(e){\n        const contenedorMayor = document.getElementById(\"contenedor\");\n        var tagses = document.getElementById(\"tagsForm\");\n        if(tagses)\n            contenedorMayor.removeChild(tagses);\n        const tagForm = document.createElement(\"div\");\n        tagForm.id = \"tagsForm\";\n        contenedorMayor.appendChild(tagForm);\n        const publicacion = document.getElementById(\"publicacion\");\n        publicacion.style.display = \"none\";\n        const misPublicaciones = document.getElementById(\"miPublicacion\");\n        misPublicaciones.style.display = \"none\";\n        var publicacionE = document.getElementById(\"publicacionEtiqueta\");\n        contenedorMayor.removeChild(publicacionE);\n        var publicacionEtiqueta = document.createElement(\"div\");\n        publicacionEtiqueta.id=\"publicacionEtiqueta\";\n        contenedorMayor.appendChild(publicacionEtiqueta);\n\n        var otra = document.getElementById(\"otroUsuario\");\n        contenedorMayor.removeChild(otra);\n        var otraP = document.createElement(\"div\");\n        otraP.id=\"otroUsuario\";\n        contenedorMayor.appendChild(otraP);\n        \n        var boton = document.createElement(\"button\");\n        boton = e;\n        if(localStorage.getItem(\"gmail\")){\n            const gmails = localStorage.getItem(\"gmail\").split(\",\");\n            var usuario = \"\";\n            for(var i = 0; i < gmails.length; i++ ){\n                const user = gmails[i].split(\"|\");\n                if(perfil == user[0])\n                    usuario = user[1];\n            }\n        }\n        if(localStorage.getItem(\"email\")){\n            const emails = localStorage.getItem(\"email\").split(\",\");\n            for(var i = 0; i < emails.length; i++ ){\n                const user = emails[i].split(\"|\");\n                if(perfil == user[0])\n                    usuario = user[1];\n            }\n        }\n        if(localStorage.getItem(perfil)){\n            const estudiantePublicaciones = localStorage.getItem(perfil).split(\",\");\n            for(var i = 0; i < estudiantePublicaciones.length; i++ ){\n                const elementos = estudiantePublicaciones[i].split(\"|\");\n                if(elementos[3].includes(boton.firstChild.innerHTML))\n                    append(elementos[1],elementos[2],elementos[3],elementos[4],elementos[5],false,perfil,usuario,\"publicacionEtiqueta\",i);\n            }\n        }\n    }\n\n    return(\n        <div id=\"contenedor\">\n            <div className=\"barra\">\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                    <div className=\"container-fluid\">\n                        <div className=\"col-1\">\n                            <i className=\"fas fa-book img-fluid principal_f\"></i>\n                        </div>\n                        <button className=\"btn navbar-brand\" onClick={window.onload}>UniApuntes</button>\n                        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarTogglerDemo01\" aria-controls=\"navbarTogglerDemo01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                        </button>\n                        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n                            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                                <li className=\"nav-item\">\n                                    <button className=\"btn nav-link active\" aria-current=\"page\" onClick={window.onload}>Inicio</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button className=\"btn nav-link\" onClick ={window.onload}>Mis Apuntes</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button className=\"btn nav-link\" onClick = {etiquetas} >Etiquetas</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button className=\"btn nav-link\" href=\"#\" tabIndex=\"-1\" onClick={cerrarSesion}>Cerrar Sesión</button>\n                                </li>\n                            </ul>\n                            <form className=\"d-flex\">\n                                <input className=\"form-control me-2\" type=\"search\" placeholder=\"Buscar...\" aria-label=\"Search\" id=\"buscar\"></input>\n                                <button className=\"btn btn-outline-success\" type=\"submit\" onClick={busqueda}>Buscar</button>\n                            </form>\n                        </div>\n                    </div>\n                </nav>\n            </div>\n            <div className=\"container container_p rounded w-50 shadow my-3 py-3 \" id=\"publicacion\">\n                <textarea className=\"form-control\" rows=\"1\" placeholder=\"Apunte: react fue creado por desarrolladores de facebook...\" id=\"apunte\"></textarea>\n                <input type=\"text\" placeholder=\"Etiquetas: javascript;react;front end\" className=\"form-control my-2\" id=\"tags\"></input>\n                <button className=\"btn btn-primary bg-blue\" onClick={subir}><i className=\"fas fa-plus-circle\"></i>Subir</button>\n            </div>\n            <div id=\"miPublicacion\"></div>\n            <div id=\"otraPublicacion\"></div>\n            <div id=\"otroUsuario\"></div>\n            <div id=\"tagsForm\"></div>\n            <div id=\"publicacionEtiqueta\"></div>\n        </div>\n    );\n}\n\nexport default Principal"]},"metadata":{},"sourceType":"module"}